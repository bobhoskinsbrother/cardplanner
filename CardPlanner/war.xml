<project name="WarCardPlanner" default="WarCardPlanner">

    <import file="../common.xml" />
    <property file="../environments/${computer.hostname}.properties" />
    <property file="../build.properties" />
    <property file="${cardplanner.website.directory}/build.properties" />

	<import file="${commons.string.directory}/build.xml" />
	<import file="${commons.reflection.directory}/build.xml" />
	<import file="${commons.crypto.directory}/build.xml" />
	<import file="${commons.image.directory}/build.xml" />
	<import file="${commons.directory}/build.xml" />
	<import file="${yawf.directory}/build.xml" />
	<import file="${cardplanner.website.model.directory}/build.xml"/>
	<import file="${cardplanner.website.directory}/build.xml" />

	<target name="WarCardPlanner" depends="war.cardplanner.website.make,war.cardplanner.website.war" />

	<target name="war.cardplanner.website.make">
		<antcall target="CommonsString.CommonsString" />
		<antcall target="CommonsReflection.CommonsReflection" />
		<antcall target="CommonsCrypto.CommonsCrypto" />
		<antcall target="CommonsImage.CommonsImage" />
		<antcall target="Commons.Commons" />
		<antcall target="YAWF.YAWF" />
		<antcall target="CardPlannerModel.CardPlannerModel" />
		<antcall target="CardPlanner.CardPlanner" />
	</target>

	<target name="quick">
		<antcall target="CardPlannerModel.clean.cardplanner.website.model" />
		<antcall target="CardPlannerModel.make.cardplanner.website.model" />
		<antcall target="CardPlannerModel.save.cardplanner.website.model" />
		
		<antcall target="CardPlanner.clean.cardplanner.website" />
		<antcall target="CardPlanner.make.cardplanner.website" />
		<antcall target="CardPlanner.save.cardplanner.website" />

		<antcall target="war.cardplanner.website.war"/>
	</target>

	<target name="war.cardplanner.website.war">
		<sequential>
			<war destfile="${cardplanner.website.dist.directory}/${instance.war}" webxml="${cardplanner.website.directory}/config/web.xml">
				<classes dir="${cardplanner.website.directory}/config/" />
                <classes file="${cardplanner.website.directory}/config/log4j.properties" />
                <lib file="${cardplanner.website.dist.directory}/${cardplanner.website.jar}" />
                <lib file="${cardplanner.website.model.dist.directory}/${cardplanner.website.model.jar}" />
				<lib file="${yawf.dist.directory}/${yawf.jar}" />
				<lib file="${commons.dist.directory}/${commons.jar}" />
				<lib file="${commons.string.dist.directory}/${commons.string.jar}"/>
				<lib file="${commons.crypto.dist.directory}/${commons.crypto.jar}"/>
				<lib file="${commons.image.dist.directory}/${commons.image.jar}"/>
				<lib file="${commons.reflection.dist.directory}/${commons.reflection.jar}"/>
				<lib file="${commons.io.jar}"  />
				<lib file="${commons.fileupload.jar}"  />
				<lib file="${commons.httpclient.jar}"/>
				<lib file="${commons.codec.jar}"/>
				<lib file="${poi.contrib.jar}"/>
				<lib file="${poi.jar}"/>
				<lib file="${freemarker.jar}"  />
				<lib file="${oval.jar}"  />
				<lib file="${batik.jar}"  />
				<lib file="${batik-rasterizer.jar}"  />
				<lib file="${batik-codec.jar}"  />
				<lib file="${batik-transcoder.jar}"  />
				<lib file="${pdf-transcoder.jar}"  />
				<lib file="${batik-util.jar}"  />
				<lib file="${batik-dom.jar}"  />
				<lib file="${batik-svg-dom.jar}"  />
				<lib file="${batik-bridge.jar}"  />
				<lib file="${batik-css.jar}"  />
				<lib file="${xml-apis-ext.jar}"  />
				<lib file="${batik-ext.jar}"  />
				<lib file="${batik-xml.jar}"  />
				<lib file="${batik-parser.jar}"  />
				<lib file="${batik-anim.jar}"  />
				<lib file="${batik-script.jar}"  />
				<lib file="${batik-gvt.jar}"  />
				<lib file="${batik-awt-util.jar}"  />
				<lib file="${jettison.jar}"  />
				<lib file="${flexjson.jar}"  />
				<lib file="${opencsv.jar}"  />
				<lib file="${shiro-web.jar}"  />
				<lib file="${shiro-core.jar}"  />
				<lib file="${commons.beanutils.jar}" />
				<lib file="${flyingsaucer.jar}"  />
				<lib file="${itext.jar}"  />
				<lib file="${activation.jar}"  />
				<lib file="${mail.jar}"  />
				<lib file="${commons.email.jar}"  />
				<lib file="${recaptcha4j.jar}"  />
				<lib file="${h2.jar}"/>
				<lib file="${hibernate-jpa.jar}"  />
				<lib file="${antlr.jar}"  />
				<lib file="${dom4j.jar}"  />
				<lib file="${hibernate.jar}"  />
				<lib file="${c3p0.jar}"  />
				<lib file="${commons.collections.jar}" />
				<lib file="${jta.jar}"/>
				<lib file="${slf4j-api.jar}"/>
				<lib file="${slf4j-log4j.jar}"/>
				<lib file="${log4j.jar}"/>
				<lib file="${javassist.jar}"/>
                <lib file="${yuicompressor.jar}" />
			</war>
		</sequential>
	</target>

</project>