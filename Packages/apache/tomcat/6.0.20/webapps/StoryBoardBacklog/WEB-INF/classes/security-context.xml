<?xml version="1.0" encoding="UTF-8"?>

<b:beans 
	xmlns:security="http://www.springframework.org/schema/security"
	xmlns:b="http://www.springframework.org/schema/beans" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
                        http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.0.xsd">

	<security:http auto-config="true">
		<security:intercept-url pattern="/Login/**" filters="none" />
		<security:intercept-url pattern="/Images/**" filters="none" />
		<security:intercept-url pattern="/Css/**" filters="none" />
		<security:intercept-url pattern="/JavaScript/**" filters="none" />
		<security:intercept-url pattern="/**" access="ROLE_USER" />
	    <security:form-login login-page="/Login/Show/0/index.xhtml" default-target-url="/" authentication-failure-url="/Login/Show/0/error.xhtml" />
	</security:http>
	<security:authentication-manager>
		<security:authentication-provider>
		   <security:user-service id="userDetailsService">
		      <security:user name="emergn" password="emergn" authorities="ROLE_USER" />
		   </security:user-service>
		</security:authentication-provider>
	</security:authentication-manager>
<!-- 
 	<http realm="StoryBoard Realm">
		<intercept-url pattern="/" access="IS_AUTHENTICATED_ANONYMOUSLY" />
		<intercept-url pattern="/Login/Show/0/index.xhtml*" access="IS_AUTHENTICATED_ANONYMOUSLY" />
		<intercept-url pattern="/**" access="ROLE_USER" />
		<form-login login-page="/Login/Show/0/index.xhtml" authentication-failure-url="/Login/Show/0/index.xhtml?login_error=1" />
		<logout logout-success-url="/Login/Show/0/index.xhtml" />
		<remember-me />
	</http>

	<authentication-manager>
		<authentication-provider>
			<password-encoder hash="md5" />
			<user-service>
				<user name="emergn" password="369389d19e24204b4927e30dd7c39efc" authorities="ROLE_USER" />
			</user-service>
		</authentication-provider>
	</authentication-manager>

	<b:bean id="rememberMeAuthenticationProvider" class="org.springframework.security.authentication.RememberMeAuthenticationProvider">
		<b:property name="key" value="rememberMe" />
	</b:bean>

	<b:bean id="loggerListener"
		class="org.springframework.security.authentication.event.LoggerListener" />
 -->

<!-- 
	<b:bean id="expressionHandler"
		class="org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler">
		<b:property name="permissionEvaluator" ref="permissionEvaluator" />
	</b:bean>

	<b:bean id="permissionEvaluator"
		class="org.springframework.security.acls.AclPermissionEvaluator">
		<b:constructor-arg ref="aclService" />
	</b:bean>


	<b:bean id="aclService"
		class="uk.co.itstherules.yawf.security.objectcache.DumbAclService">
	</b:bean>
 -->
</b:beans>
